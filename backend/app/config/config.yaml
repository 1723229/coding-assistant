# Coding Assistant Configuration
# Copy this file to config.yaml and modify as needed

# Server Configuration
server:
  host: "0.0.0.0"
  port: 8001
  reload: false
  debug: false
  cors_origins:
    - "http://localhost:5173"
    - "http://localhost:3000"
  preview_ip: http://192.168.1.50

# Database Configuration (MySQL)
database:
  host: "172.27.1.20"
  port: 3306
  user: "employee_platform"
  password: "e_Plat123"
  name: "employee_platform"
  charset: "utf8mb4"
  # Connection pool settings
  pool_size: 10
  max_overflow: 20
  pool_recycle: 3600
  # Timeout settings (seconds)
  connect_timeout: 60
  read_timeout: 60
  write_timeout: 60

# GitHub Configuration
github:
  token: "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"
  default_repo: ""

# Workspace Configuration
workspace:
  base_path: "./workspaces"

# Executor Configuration (Sandbox Containers)
# All task execution happens in isolated Docker containers
executor:
  # Docker image for executor containers
  # Build with: docker build -f backend/executor/Dockerfile -t coding-assistant-executor:latest .
  image: "coding-assistant-executor:latest"
  
  # Port range for executor containers (API service)
  api_port_range_min: 10001
  api_port_range_max: 10100
  
  # Port range for code service
  code_port_range_min: 20001
  code_port_range_max: 20100
  
  # Timeouts in seconds
  request_timeout: 300      # Sync request timeout
  stream_timeout: 600       # SSE stream timeout
  health_check_timeout: 30  # Container health check timeout
  
  # Container resource limits
  container_memory: "4g"    # Memory limit per container
  container_cpu: 2          # CPU count per container
  
  # Docker host address (for container-to-host communication)
  # Use "host.docker.internal" for Mac/Windows, or actual host IP for Linux
  docker_host: "host.docker.internal"
  
  # Session timeout in seconds
  session_timeout: 1800     # 30 minutes
  
  # Claude API Configuration (passed to sandbox containers)
  anthropic_api_key: "sk-e43189bfbcc24a01bab723f9ebb38e81"
  anthropic_base_url: "https://dashscope.aliyuncs.com/apps/anthropic"
  anthropic_model: "qwen3-coder-plus"
